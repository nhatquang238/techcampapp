// Framer 2.0-49-gae7c991 (c) 2013 Koen Bok
// https://github.com/koenbok/Framer
window.FramerVersion="2.0-49-gae7c991";(function(){var e=function(t,n){var r=e.resolve(t,n||"/"),i=e.modules[r];if(!i)throw new Error("Failed to resolve module "+t+", tried "+r);var s=e.cache[r],o=s?s.exports:i();return o};e.paths=[];e.modules={};e.cache={};e.extensions=[".js",".coffee",".json"];e._core={assert:!0,events:!0,fs:!0,path:!0,vm:!0};e.resolve=function(){return function(t,n){function u(t){t=r.normalize(t);if(e.modules[t])return t;for(var n=0;n<e.extensions.length;n++){var i=e.extensions[n];if(e.modules[t+i])return t+i}}function a(t){t=t.replace(/\/+$/,"");var n=r.normalize(t+"/package.json");if(e.modules[n]){var i=e.modules[n](),s=i.browserify;if(typeof s=="object"&&s.main){var o=u(r.resolve(t,s.main));if(o)return o}else if(typeof s=="string"){var o=u(r.resolve(t,s));if(o)return o}else if(i.main){var o=u(r.resolve(t,i.main));if(o)return o}}return u(t+"/index")}function f(e,t){var n=l(t);for(var r=0;r<n.length;r++){var i=n[r],s=u(i+"/"+e);if(s)return s;var o=a(i+"/"+e);if(o)return o}var s=u(e);if(s)return s}function l(e){var t;e==="/"?t=[""]:t=r.normalize(e).split("/");var n=[];for(var i=t.length-1;i>=0;i--){if(t[i]==="node_modules")continue;var s=t.slice(0,i+1).join("/")+"/node_modules";n.push(s)}return n}n||(n="/");if(e._core[t])return t;var r=e.modules.path();n=r.resolve("/",n);var i=n||"/";if(t.match(/^(?:\.\.?\/|\/)/)){var s=u(r.resolve(i,t))||a(r.resolve(i,t));if(s)return s}var o=f(t,i);if(o)return o;throw new Error("Cannot find module '"+t+"'")}}();e.alias=function(t,n){var r=e.modules.path(),i=null;try{i=e.resolve(t+"/package.json","/")}catch(s){i=e.resolve(t,"/")}var o=r.dirname(i),u=(Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t})(e.modules);for(var a=0;a<u.length;a++){var f=u[a];if(f.slice(0,o.length+1)===o+"/"){var l=f.slice(o.length);e.modules[n+l]=e.modules[o+l]}else f===o&&(e.modules[n]=e.modules[o])}};(function(){var t={},n=typeof window!="undefined"?window:{},r=!1;e.define=function(i,s){if(!r&&e.modules.__browserify_process){t=e.modules.__browserify_process();r=!0}var o=e._core[i]?"":e.modules.path().dirname(i),u=function(t){var n=e(t,o),r=e.cache[e.resolve(t,o)];r&&r.parent===null&&(r.parent=a);return n};u.resolve=function(t){return e.resolve(t,o)};u.modules=e.modules;u.define=e.define;u.cache=e.cache;var a={id:i,filename:i,exports:{},loaded:!1,parent:null};e.modules[i]=function(){e.cache[i]=a;s.call(a.exports,u,a,a.exports,o,i,t,n);a.loaded=!0;return a.exports}}})();e.define("path",function(e,t,n,r,i,s,o){function u(e,t){var n=[];for(var r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}function a(e,t){var n=0;for(var r=e.length;r>=0;r--){var i=e[r];if(i==".")e.splice(r,1);else if(i===".."){e.splice(r,1);n++}else if(n){e.splice(r,1);n--}}if(t)for(;n--;n)e.unshift("..");return e}var f=/^(.+\/(?!$)|\/)?((?:.+?)?(\.[^.]*)?)$/;n.resolve=function(){var e="",t=!1;for(var n=arguments.length;n>=-1&&!t;n--){var r=n>=0?arguments[n]:s.cwd();if(typeof r!="string"||!r)continue;e=r+"/"+e;t=r.charAt(0)==="/"}e=a(u(e.split("/"),function(e){return!!e}),!t).join("/");return(t?"/":"")+e||"."};n.normalize=function(e){var t=e.charAt(0)==="/",n=e.slice(-1)==="/";e=a(u(e.split("/"),function(e){return!!e}),!t).join("/");!e&&!t&&(e=".");e&&n&&(e+="/");return(t?"/":"")+e};n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(u(e,function(e,t){return e&&typeof e=="string"}).join("/"))};n.dirname=function(e){var t=f.exec(e)[1]||"",n=!1;return t?t.length===1||n&&t.length<=3&&t.charAt(1)===":"?t:t.substring(0,t.length-1):"."};n.basename=function(e,t){var n=f.exec(e)[2]||"";t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length));return n};n.extname=function(e){return f.exec(e)[3]||""};n.relative=function(e,t){function r(e){var t=0;for(;t<e.length;t++)if(e[t]!=="")break;var n=e.length-1;for(;n>=0;n--)if(e[n]!=="")break;return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1);t=n.resolve(t).substr(1);var i=r(e.split("/")),s=r(t.split("/")),o=Math.min(i.length,s.length),u=o;for(var a=0;a<o;a++)if(i[a]!==s[a]){u=a;break}var f=[];for(var a=u;a<i.length;a++)f.push("..");f=f.concat(s.slice(u));return f.join("/")}});e.define("__browserify_process",function(e,t,n,r,i,s,o){var s=t.exports={};s.nextTick=function(){var e=typeof window!="undefined"&&window.setImmediate,t=typeof window!="undefined"&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};if(t){var n=[];window.addEventListener("message",function(e){if(e.source===window&&e.data==="browserify-tick"){e.stopPropagation();if(n.length>0){var t=n.shift();t()}}},!0);return function(t){n.push(t);window.postMessage("browserify-tick","*")}}return function(t){setTimeout(t,0)}}();s.title="browser";s.browser=!0;s.env={};s.argv=[];s.binding=function(t){if(t==="evals")return e("vm");throw new Error("No such module. (Possibly not yet loaded)")};(function(){var t="/",n;s.cwd=function(){return t};s.chdir=function(r){n||(n=e("path"));t=n.resolve(r,t)}})()});e.define("/src/css.coffee",function(e,t,n,r,i,s,o){(function(){n.addStyle=function(e){var t;t=document.createElement("style");t.innerHTML=e;return document.head.appendChild(t)};n.addStyle(".framer {	display: block;	visibility: visible;	position: absolute;	top:auto; right:auto; bottom:auto; left:auto;	width:auto; height:auto;	overflow: visible;	z-index: 0;	opacity: 1;	box-sizing: border-box;	-webkit-box-sizing: border-box;	-webkit-transform-origin: 50% 50% 0%;	-webkit-transform-style: flat;	-webkit-backface-visibility: hidden;}")}).call(this)});e.define("/src/config.coffee",function(e,t,n,r,i,s,o){(function(){n.config={baseUrl:"",timeSpeedFactor:1,roundingDecimals:5,animationPrecision:60,animationDebug:!1,animationProfile:!1}}).call(this)});e.define("/src/utils.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s=[].slice,o=this,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};r=e("underscore");t=e("./config").config;Function.prototype.define=function(e,t){Object.defineProperty(this.prototype,e,t);return Object.__};n.delay=function(e,n){var r;r=setTimeout(n,e*t.timeSpeedFactor);window._delayTimers==null&&(window._delayTimers=[]);window._delayTimers.push(r);return r};n.interval=function(e,n){var r;r=setInterval(n,e*t.timeSpeedFactor);window._delayIntervals==null&&(window._delayIntervals=[]);window._delayIntervals.push(r);return r};n.debounce=function(e,t,n){var r;r=null;return function(){var i,o,u;i=1<=arguments.length?s.call(arguments,0):[];u=this;o=function(){n||t.apply(u,i);return r=null};r?clearTimeout(r):n&&t.apply(u,i);return r=setTimeout(o,e||100)}};n.throttle=function(e,t){var n;if(e===0)return t;n=!1;return function(){if(n)return;n=!0;e!==-1&&setTimeout(function(){return n=!1},e);return t.apply(null,arguments)}};n.max=function(e){return Math.max.apply(Math,e)};n.min=function(e){return Math.min.apply(Math,e)};n.sum=function(e){return e.length>0?e.reduce(function(e,t){return e+t}):0};n.round=function(e,t){var n;n=Math.pow(10,t);return Math.round(e*n)/n};n.defaults=function(e,t){var n,i,s,o;i=r.extend(e);for(n in t){s=t[n];if((o=i[n])===null||o===void 0)i[n]=t[n]}return i};n.randomColor=function(e){var t;e==null&&(e=1);t=function(){return parseInt(Math.random()*255)};return"rgba("+t()+", "+t()+", "+t()+", "+e+")"};n.uuid=function(){var e,t,n,r,i,s;e="0123456789abcdefghijklmnopqrstuvwxyz".split("");n=new Array(36);i=0;for(t=s=1;s<=32;t=++s){i<=2&&(i=33554432+Math.random()*16777216|0);r=i&15;i>>=4;n[t]=e[t===19?r&3|8:r]}return n.join("")};n.cycle=function(){var e,t;r.isArray(arguments[0])?e=arguments[0]:e=Array.prototype.slice.call(arguments);t=-1;return function(){t++;t>=e.length&&(t=0);return e[t]}};n.toggle=n.cycle;n.isWebKit=function(){return window.WebKitCSSMatrix!==null};n.isTouch=function(){return window.ontouchstart===null};n.isMobile=function(){return/iphone|ipod|android|ie|blackberry|fennec/.test(navigator.userAgent.toLowerCase())};n.isChrome=function(){return/chrome/.test(navigator.userAgent.toLowerCase())};n.isLocal=function(){return window.location.href.slice(0,7)==="file://"};n.devicePixelRatio=function(){return window.devicePixelRatio};i=[];document.onreadystatechange=function(e){var t,n;if(document.readyState==="complete"){n=[];while(i.length)n.push(t=i.shift()());return n}};n.domComplete=function(e){return document.readyState==="complete"?e():i.push(e)};n.domCompleteCancel=function(e){return i=r.without(i,e)};n.domLoadScript=function(e,t){var n,r;r=document.createElement("script");r.type="text/javascript";r.src=e;r.onload=t;n=document.getElementsByTagName("head")[0];n.appendChild(r);return r};n.pointDistance=function(e,t){var n;return n={x:Math.abs(t.x-e.x),y:Math.abs(t.y-e.y)}};n.pointInvert=function(e){return e={x:0-e.x,y:0-e.y}};n.pointTotal=function(e){return e.x+e.y};n.frameSize=function(e){var t;return t={width:e.width,height:e.height}};n.framePoint=function(e){var t;return t={x:e.x,y:e.y}};n.pointAbs=function(e){return e={x:Math.abs(e.x),y:Math.abs(e.y)}};n.pointInFrame=function(e,t){return e.x<t.minX||e.x>t.maxX?!1:e.y<t.minY||e.y>t.maxY?!1:!0};n.convertPoint=function(e,t,r){var i,s,o,u,a,f,l,c;e=n.extend({},e);o=function(e){var t,n;t=e;n=[];while(t&&t.superView){n.push(t.superView);t=t.superView}return n};i=o(t);s=o(r);r&&s.push(r);for(a=0,l=i.length;a<l;a++){u=i[a];e.x+=u.x;e.y+=u.y;if(u.scrollFrame){e.x-=u.scrollFrame.x;e.y-=u.scrollFrame.y}}for(f=0,c=s.length;f<c;f++){u=s[f];e.x-=u.x;e.y-=u.y;if(u.scrollFrame){e.x+=u.scrollFrame.x;e.y+=u.scrollFrame.y}}return e};n.keys=function(e){var t,n;n=[];for(t in e)n.push(t);return n};n.extend=function(){var e,t,n,r,i,s,o,u;t=Array.prototype.slice.call(arguments);e=t[0];u=t.slice(1);for(s=0,o=u.length;s<o;s++){r=u[s];for(n in r){i=r[n];e[n]=i}}return e};n.update=function(e,t){var r;r=n.keys(e);n.extend(e,n.filter(t,function(e){return u.call(r,e)>=0}));return a};n.copy=function(e){return n.extend({},e)};n.filter=function(e,t){var n,r,i;n={};for(r in e){i=e[r];t(r,i)&&(n[r]=i)}return n};n.union=function(){return Array.prototype.concat.apply(Array.prototype,arguments)};n.remove=function(e,t){var n;(n=e.indexOf(t))>-1&&e.splice(n,1)[0];return e}}).call(this)});e.define("/node_modules/underscore/package.json",function(e,t,n,r,i,s,o){t.exports={main:"underscore.js"}});e.define("/node_modules/underscore/underscore.js",function(e,t,n,r,i,s,o){(function(){var e=this,r=e._,i={},s=Array.prototype,o=Object.prototype,u=Function.prototype,a=s.push,f=s.slice,l=s.concat,c=o.toString,h=o.hasOwnProperty,p=s.forEach,d=s.map,v=s.reduce,m=s.reduceRight,g=s.filter,y=s.every,b=s.some,w=s.indexOf,E=s.lastIndexOf,S=Array.isArray,x=Object.keys,T=u.bind,N=function(e){if(e instanceof N)return e;if(!(this instanceof N))return new N(e);this._wrapped=e};if(typeof n!="undefined"){typeof t!="undefined"&&t.exports&&(n=t.exports=N);n._=N}else e._=N;N.VERSION="1.5.2";var C=N.each=N.forEach=function(e,t,n){if(e==null)return;if(p&&e.forEach===p)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,s=e.length;r<s;r++)if(t.call(n,e[r],r,e)===i)return}else{var o=N.keys(e);for(var r=0,s=o.length;r<s;r++)if(t.call(n,e[o[r]],o[r],e)===i)return}};N.map=N.collect=function(e,t,n){var r=[];if(e==null)return r;if(d&&e.map===d)return e.map(t,n);C(e,function(e,i,s){r.push(t.call(n,e,i,s))});return r};var k="Reduce of empty array with no initial value";N.reduce=N.foldl=N.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(v&&e.reduce===v){r&&(t=N.bind(t,r));return i?e.reduce(t,n):e.reduce(t)}C(e,function(e,s,o){if(!i){n=e;i=!0}else n=t.call(r,n,e,s,o)});if(!i)throw new TypeError(k);return n};N.reduceRight=N.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(m&&e.reduceRight===m){r&&(t=N.bind(t,r));return i?e.reduceRight(t,n):e.reduceRight(t)}var s=e.length;if(s!==+s){var o=N.keys(e);s=o.length}C(e,function(u,a,f){a=o?o[--s]:--s;if(!i){n=e[a];i=!0}else n=t.call(r,n,e[a],a,f)});if(!i)throw new TypeError(k);return n};N.find=N.detect=function(e,t,n){var r;L(e,function(e,i,s){if(t.call(n,e,i,s)){r=e;return!0}});return r};N.filter=N.select=function(e,t,n){var r=[];if(e==null)return r;if(g&&e.filter===g)return e.filter(t,n);C(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)});return r};N.reject=function(e,t,n){return N.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)};N.every=N.all=function(e,t,n){t||(t=N.identity);var r=!0;if(e==null)return r;if(y&&e.every===y)return e.every(t,n);C(e,function(e,s,o){if(!(r=r&&t.call(n,e,s,o)))return i});return!!r};var L=N.some=N.any=function(e,t,n){t||(t=N.identity);var r=!1;if(e==null)return r;if(b&&e.some===b)return e.some(t,n);C(e,function(e,s,o){if(r||(r=t.call(n,e,s,o)))return i});return!!r};N.contains=N.include=function(e,t){return e==null?!1:w&&e.indexOf===w?e.indexOf(t)!=-1:L(e,function(e){return e===t})};N.invoke=function(e,t){var n=f.call(arguments,2),r=N.isFunction(t);return N.map(e,function(e){return(r?t:e[t]).apply(e,n)})};N.pluck=function(e,t){return N.map(e,function(e){return e[t]})};N.where=function(e,t,n){return N.isEmpty(t)?n?void 0:[]:N[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})};N.findWhere=function(e,t){return N.where(e,t,!0)};N.max=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&N.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};C(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})});return r.value};N.min=function(e,t,n){if(!t&&N.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&N.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};C(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})});return r.value};N.shuffle=function(e){var t,n=0,r=[];C(e,function(e){t=N.random(n++);r[n-1]=r[t];r[t]=e});return r};N.sample=function(e,t,n){return arguments.length<2||n?e[N.random(e.length-1)]:N.shuffle(e).slice(0,Math.max(0,t))};var A=function(e){return N.isFunction(e)?e:function(t){return t[e]}};N.sortBy=function(e,t,n){var r=A(t);return N.pluck(N.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var O=function(e){return function(t,n,r){var i={},s=n==null?N.identity:A(n);C(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)});return i}};N.groupBy=O(function(e,t,n){(N.has(e,t)?e[t]:e[t]=[]).push(n)});N.indexBy=O(function(e,t,n){e[t]=n});N.countBy=O(function(e,t){N.has(e,t)?e[t]++:e[t]=1});N.sortedIndex=function(e,t,n,r){n=n==null?N.identity:A(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s};N.toArray=function(e){return e?N.isArray(e)?f.call(e):e.length===+e.length?N.map(e,N.identity):N.values(e):[]};N.size=function(e){return e==null?0:e.length===+e.length?e.length:N.keys(e).length};N.first=N.head=N.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:f.call(e,0,t)};N.initial=function(e,t,n){return f.call(e,0,e.length-(t==null||n?1:t))};N.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:f.call(e,Math.max(e.length-t,0))};N.rest=N.tail=N.drop=function(e,t,n){return f.call(e,t==null||n?1:t)};N.compact=function(e){return N.filter(e,N.identity)};var M=function(e,t,n){if(t&&N.every(e,N.isArray))return l.apply(n,e);C(e,function(e){N.isArray(e)||N.isArguments(e)?t?a.apply(n,e):M(e,t,n):n.push(e)});return n};N.flatten=function(e,t){return M(e,t,[])};N.without=function(e){return N.difference(e,f.call(arguments,1))};N.uniq=N.unique=function(e,t,n,r){if(N.isFunction(t)){r=n;n=t;t=!1}var i=n?N.map(e,n,r):e,s=[],o=[];C(i,function(n,r){if(t?!r||o[o.length-1]!==n:!N.contains(o,n)){o.push(n);s.push(e[r])}});return s};N.union=function(){return N.uniq(N.flatten(arguments,!0))};N.intersection=function(e){var t=f.call(arguments,1);return N.filter(N.uniq(e),function(e){return N.every(t,function(t){return N.indexOf(t,e)>=0})})};N.difference=function(e){var t=l.apply(s,f.call(arguments,1));return N.filter(e,function(e){return!N.contains(t,e)})};N.zip=function(){var e=N.max(N.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=N.pluck(arguments,""+n);return t};N.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};N.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number"){r=N.sortedIndex(e,t);return e[r]===t?r:-1}r=n<0?Math.max(0,i+n):n}if(w&&e.indexOf===w)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1};N.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(E&&e.lastIndexOf===E)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1};N.range=function(e,t,n){if(arguments.length<=1){t=e||0;e=0}n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r){s[i++]=e;e+=n}return s};var _=function(){};N.bind=function(e,t){var n,r;if(T&&e.bind===T)return T.apply(e,f.call(arguments,1));if(!N.isFunction(e))throw new TypeError;n=f.call(arguments,2);return r=function(){if(this instanceof r){_.prototype=e.prototype;var i=new _;_.prototype=null;var s=e.apply(i,n.concat(f.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(f.call(arguments)))}};N.partial=function(e){var t=f.call(arguments,1);return function(){return e.apply(this,t.concat(f.call(arguments)))}};N.bindAll=function(e){var t=f.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");C(t,function(t){e[t]=N.bind(e[t],e)});return e};N.memoize=function(e,t){var n={};t||(t=N.identity);return function(){var r=t.apply(this,arguments);return N.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}};N.delay=function(e,t){var n=f.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)};N.defer=function(e){return N.delay.apply(N,[e,1].concat(f.call(arguments,1)))};N.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date;o=null;s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);r=this;i=arguments;if(l<=0){clearTimeout(o);o=null;u=f;s=e.apply(r,i)}else!o&&n.trailing!==!1&&(o=setTimeout(a,l));return s}};N.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this;i=arguments;o=new Date;var a=function(){var f=new Date-o;if(f<t)r=setTimeout(a,t-f);else{r=null;n||(u=e.apply(s,i))}},f=n&&!r;r||(r=setTimeout(a,t));f&&(u=e.apply(s,i));return u}};N.once=function(e){var t=!1,n;return function(){if(t)return n;t=!0;n=e.apply(this,arguments);e=null;return n}};N.wrap=function(e,t){return function(){var n=[e];a.apply(n,arguments);return t.apply(this,n)}};N.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}};N.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}};N.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)N.has(e,n)&&t.push(n);return t};N.values=function(e){var t=N.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r};N.pairs=function(e){var t=N.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r};N.invert=function(e){var t={},n=N.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t};N.functions=N.methods=function(e){var t=[];for(var n in e)N.isFunction(e[n])&&t.push(n);return t.sort()};N.extend=function(e){C(f.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]});return e};N.pick=function(e){var t={},n=l.apply(s,f.call(arguments,1));C(n,function(n){n in e&&(t[n]=e[n])});return t};N.omit=function(e){var t={},n=l.apply(s,f.call(arguments,1));for(var r in e)N.contains(n,r)||(t[r]=e[r]);return t};N.defaults=function(e){C(f.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])});return e};N.clone=function(e){return N.isObject(e)?N.isArray(e)?e.slice():N.extend({},e):e};N.tap=function(e,t){t(e);return e};var D=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof N&&(e=e._wrapped);t instanceof N&&(t=t._wrapped);var i=c.call(e);if(i!=c.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(N.isFunction(o)&&o instanceof o&&N.isFunction(u)&&u instanceof u))return!1;n.push(e);r.push(t);var a=0,f=!0;if(i=="[object Array]"){a=e.length;f=a==t.length;if(f)while(a--)if(!(f=D(e[a],t[a],n,r)))break}else{for(var l in e)if(N.has(e,l)){a++;if(!(f=N.has(t,l)&&D(e[l],t[l],n,r)))break}if(f){for(l in t)if(N.has(t,l)&&!(a--))break;f=!a}}n.pop();r.pop();return f};N.isEqual=function(e,t){return D(e,t,[],[])};N.isEmpty=function(e){if(e==null)return!0;if(N.isArray(e)||N.isString(e))return e.length===0;for(var t in e)if(N.has(e,t))return!1;return!0};N.isElement=function(e){return!!e&&e.nodeType===1};N.isArray=S||function(e){return c.call(e)=="[object Array]"};N.isObject=function(e){return e===Object(e)};C(["Arguments","Function","String","Number","Date","RegExp"],function(e){N["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}});N.isArguments(arguments)||(N.isArguments=function(e){return!!e&&!!N.has(e,"callee")});typeof /./!="function"&&(N.isFunction=function(e){return typeof e=="function"});N.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};N.isNaN=function(e){return N.isNumber(e)&&e!=+e};N.isBoolean=function(e){return e===!0||e===!1||c.call(e)=="[object Boolean]"};N.isNull=function(e){return e===null};N.isUndefined=function(e){return e===void 0};N.has=function(e,t){return h.call(e,t)};N.noConflict=function(){e._=r;return this};N.identity=function(e){return e};N.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r};N.random=function(e,t){if(t==null){t=e;e=0}return e+Math.floor(Math.random()*(t-e+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};P.unescape=N.invert(P.escape);var H={escape:new RegExp("["+N.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+N.keys(P.unescape).join("|")+")","g")};N.each(["escape","unescape"],function(e){N[e]=function(t){return t==null?"":(""+t).replace(H[e],function(t){return P[e][t]})}});N.result=function(e,t){if(e==null)return void 0;var n=e[t];return N.isFunction(n)?n.call(e):n};N.mixin=function(e){C(N.functions(e),function(t){var n=N[t]=e[t];N.prototype[t]=function(){var e=[this._wrapped];a.apply(e,arguments);return q.call(this,n.apply(N,e))}})};var B=0;N.uniqueId=function(e){var t=++B+"";return e?e+t:t};N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var j=/(.)^/,F={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},I=/\\|'|\r|\n|\t|\u2028|\u2029/g;N.template=function(e,t,n){var r;n=N.defaults({},n,N.templateSettings);var i=new RegExp([(n.escape||j).source,(n.interpolate||j).source,(n.evaluate||j).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){o+=e.slice(s,u).replace(I,function(e){return"\\"+F[e]});n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'");r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'");i&&(o+="';\n"+i+"\n__p+='");s=u+t.length;return t});o+="';\n";n.variable||(o="with(obj||{}){\n"+o+"}\n");o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){u.source=o;throw u}if(t)return r(t,N);var a=function(e){return r.call(this,e,N)};a.source="function("+(n.variable||"obj")+"){\n"+o+"}";return a};N.chain=function(e){return N(e).chain()};var q=function(e){return this._chain?N(e).chain():e};N.mixin(N);C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];N.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);(e=="shift"||e=="splice")&&n.length===0&&delete n[0];return q.call(this,n)}});C(["concat","join","slice"],function(e){var t=s[e];N.prototype[e]=function(){return q.call(this,t.apply(this._wrapped,arguments))}});N.extend(N.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)});e.define("/src/debug.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i;i=e("./utils");r=e("./config").config;n.errorWarning=function(e){var t;t=new View({x:20,y:20,width:350,height:60});t.html="<b>Javascript Error</b>		<br>Inspect the error console for more info.";t.style={font:"13px/1.3em Menlo, Monaco",backgroundColor:"rgba(255,0,0,0.5)",padding:"12px",border:"1px solid rgba(255,0,0,0.5)",borderRadius:"5px"};t.scale=.5;return t.animate({properties:{scale:1},curve:"spring(2500,30,1500)"})};n.debugView=function(){if(window.Framer._togglingDebug===!0)return;window.Framer._togglingDebug=!0;View.Views.map(function(e,t){var n,r;if(e._debug){e._element.removeChild(e._debug.node);e.style=e._debug.style;return delete e._debug}n="rgba(50,150,200,.35)";r=document.createElement("div");r.innerHTML=""+(e.name||e.id);e.superView&&(r.innerHTML+=" <span style='opacity:.5'>					in "+(e.superView.name||e.superView.id)+"				</span>");r.style.position="absolute";r.style.padding="3px";e._debug={style:i.extend({},e.style),node:r};e._element.appendChild(r);return e.style={color:"white",margin:"-1px",font:"10px/1em Monaco",backgroundColor:""+n,border:"1px solid "+n,backgroundImage:null}});return window.Framer._togglingDebug=!1};t={Shift:16,Escape:27};window.document.onkeydown=function(e){if(e.keyCode===t.Shift)return r.timeSpeedFactor=25};window.document.onkeyup=function(e){e.keyCode===t.Shift&&(r.timeSpeedFactor=1);if(e.keyCode===t.Escape)return n.debugView()};window.onerror=n.errorWarning}).call(this)});e.define("/src/tools/init.coffee",function(e,t,n,r,i,s,o){(function(){n.tools={};n.tools.facebook=e("./facebook").facebook}).call(this)});e.define("/src/tools/facebook.coffee",function(e,t,n,r,i,s,o){(function(){var e,t,r;r={};e="token";t="https://graph.facebook.com/me";r.query=function(n,i){var s;r._token=localStorage.getItem(e);if((s=r._token)===void 0||s===""){r._tokenDialog();return}return r._loadJQuery(function(){var e;e={fields:n,method:"GET",format:"json",access_token:r._token};return $.ajax({url:t,data:e,dataType:"json",success:i,error:function(e){var t;console.log("error",e);if((t=e.status)===0||t===400)return r._tokenDialog()}})})};r.logout=function(){localStorage.setItem(e,"");return document.location.reload()};r._loadJQuery=function(e){var t;if(typeof $=="undefined"){t=document.createElement("script");t.src="http://cdnjs.cloudflare.com/ajax/libs/zepto/1.0/zepto.min.js";t.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(t);return t.onload=e}return e()};r._tokenDialog=function(){var e;e=new View({width:500,height:120,midX:window.innerWidth/2,midY:window.innerHeight/2});e.style={padding:"20px",backgroundColor:"#e5e5e5",webkitBoxShadow:"0px 2px 10px 0px rgba(0,0,0,.2)",border:"1px solid rgba(0,0,0,.1)",borderRadius:"4px"};e.html="		<input type='text' id='tokenDialog'			placeholder='Paste Facebook Access Token' 			style='font:16px/1em Menlo;width:440px;padding:10px 10px 5px 5px' 			onpaste='tools.facebook._tokenDialogUpdate(this)'			onkeyup='tools.facebook._tokenDialogUpdate(this)'		>		<div style='			text-align:center;			font-size:18px;			font-weight:			bold;			padding-top:20px		'>			<a href='https://developers.facebook.com/tools/explorer' target='new'>				Find access token here			</a>		</div	";return utils.delay(0,function(){var e;e=window.document.getElementById("tokenDialog");return e.focus()})};r._tokenDialogUpdate=function(t){if(t.value.length>50){localStorage.setItem(e,t.value);return document.location.reload()}};n.facebook=r}).call(this)});e.define("/src/views/view.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s,o,u,a,f,l,c,h=function(e,t){return function(){return e.apply(t,arguments)}},p={}.hasOwnProperty,d=function(e,t){function r(){this.constructor=e}for(var n in t)p.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e},v=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};f=e("../utils");c=e("underscore");s=e("../primitives/frame").Frame;o=e("../primitives/matrix").Matrix;r=e("../eventemitter").EventEmitter;t=e("../animation").Animation;i=e("../filters").FilterProperties;n.ViewList=[];u=function(e){function r(e){this.__insertElement=h(this.__insertElement,this);e==null&&(e={});this._offset={x:0,y:0};r.Views.push(this);this.id=r.Views.length;this._element=document.createElement("div");this._element.id=this.id;this.addClass("framer");this._subViews=[];this._currentAnimations=[];this.clip=e.clip||r.Properties.clip;this.properties=e;this.index=0;typeof this._postCreate=="function"&&this._postCreate();e.superView||this._insertElement()}var n=this;d(r,e);r.prototype._postCreate=function(){};r.define("name",{get:function(){return this._name||this.id},set:function(e){this._name=e;return this._element.setAttribute("name",this._name)}});r.define("properties",{get:function(){var e,t,n,i;t={};i=r.Properties;for(e in i){n=i[e];t[e]=this[e]}return t},set:function(e){var t,n,i,o,u,a,f,l,c;i=r.Properties;for(t in i){n=i[t];(o=e[t])!==null&&o!==void 0&&(this[t]=e[t])}u=s.Properties;for(t in u){n=u[t];(a=e[t])!==null&&a!==void 0?this[t]=e[t]:this[t]=s.Properties[t]}f=s.CalculatedProperties;c=[];for(t in f){n=f[t];(l=e[t])!==null&&l!==void 0?c.push(this[t]=e[t]):c.push(void 0)}return c}});r.define("frame",{get:function(){return new s({x:this.x,y:this.y,width:this.width,height:this.height})},set:function(e){var t,n,r,i,s;if(!e)return;i=["x","y","width","height"];s=[];for(n=0,r=i.length;n<r;n++){t=i[n];s.push(this[t]=e[t])}return s}});r.prototype.convertPoint=function(e){return f.convertPoint(e,null,this)};r.prototype.screenFrame=function(){return f.convertPoint(this.frame,this,null)};r.prototype.contentFrame=function(){var e,t,n,r;n=f.min(c.pluck(this.subViews,"minX"));e=f.max(c.pluck(this.subViews,"maxX"));r=f.min(c.pluck(this.subViews,"minY"));t=f.max(c.pluck(this.subViews,"maxY"));return new s({x:n,y:r,width:e-n,height:t-r})};r.prototype.centerFrame=function(){var e;if(this.superView){e=this.frame;e.midX=this.superView.width/2;e.midY=this.superView.height/2;return e}e=this.frame;e.midX=window.innerWidth/2;e.midY=window.innerHeight/2;return e};r.prototype.centeredFrame=r.centerFrame;r.prototype.centerX=function(){return this.x=this.centerFrame().x};r.prototype.centerY=function(){return this.y=this.centerFrame().y};r.prototype.center=function(){return this.frame=this.centerFrame()};r.prototype.pixelAlign=function(){return this.frame={x:parseInt(this.x),y:parseInt(this.y)}};r.define("width",{get:function(){return parseFloat(this.style.width)},set:function(e){this.animateStop();this.style.width=""+e+"px";this.emit("change:width");return this.emit("change:frame")}});r.define("height",{get:function(){return parseFloat(this.style.height)},set:function(e){this.animateStop();this.style.height=""+e+"px";this.emit("change:height");return this.emit("change:frame")}});r.define("x",{get:function(){return this._matrix.x-this._offset.x},set:function(e){this._setMatrixValue("x",e+this._offset.x);return this.emit("change:frame")}});r.define("y",{get:function(){return this._matrix.y-this._offset.y},set:function(e){this._setMatrixValue("y",e+this._offset.y);return this.emit("change:frame")}});r.define("z",{get:function(){return this._matrix.z},set:function(e){return this._setMatrixValue("z",e)}});r.define("scale",{get:function(){return this._matrix.scale},set:function(e){return this._setMatrixValue("scale",e)}});r.define("scaleX",{get:function(){return this._matrix.scaleX},set:function(e){return this._setMatrixValue("scaleX",e)}});r.define("scaleY",{get:function(){return this._matrix.scaleY},set:function(e){return this._setMatrixValue("scaleY",e)}});r.define("scaleZ",{get:function(){return this._matrix.scaleZ},set:function(e){return this._setMatrixValue("scaleZ",e)}});r.define("rotation",{get:function(){return this._matrix.rotation},set:function(e){return this._setMatrixValue("rotation",e)}});r.define("rotationX",{get:function(){return this._matrix.rotationX},set:function(e){return this._setMatrixValue("rotationX",
e)}});r.define("rotationY",{get:function(){return this._matrix.rotationY},set:function(e){return this._setMatrixValue("rotationY",e)}});r.define("rotationZ",{get:function(){return this._matrix.rotationZ},set:function(e){return this._setMatrixValue("rotationZ",e)}});r.define("_matrix",{get:function(){this.__matrix||(this.__matrix=new o(new WebKitCSSMatrix(this._element.style.webkitTransform)));return this.__matrix},set:function(e){if(!e){this.__matrix=null;this.style.webkitTransform=null;return}e instanceof WebKitCSSMatrix&&(e=new o(e));if(!e instanceof o)throw Error("View._matrix.set should be Matrix not "+typeof e);this.__matrix=e;return this.style.webkitTransform=this.__matrix.css()}});r.prototype._setMatrixValue=function(e,t){var n;this.animateStop();this._matrix[e]=t;this._matrix=this._matrix;this.emit("change:"+e);if((n=e.slice(-1))==="X"||n==="Y"||n==="Z")return this.emit("change:"+e.slice(0,+(e.length-1)+1||9e9))};r.prototype._computedMatrix=function(){return new WebKitCSSMatrix(this.computedStyle.webkitTransform)};r.define("opacity",{get:function(){return parseFloat(this.style.opacity||1)},set:function(e){this.animateStop();this.style.opacity=e;return this.emit("change:opacity")}});r.define("clip",{get:function(){return this._clip},set:function(e){this._clip=e;e===!0&&(this.style.overflow="hidden");e===!1&&(this.style.overflow="visible");return this.emit("change:clip")}});r.define("visible",{get:function(){var e;return(e=this._visible)!=null?e:!0},set:function(e){this._visible=e;e===!0&&(this.style.display="block");e===!1&&(this.style.display="none");return this.emit("change:visible")}});r.prototype._getFilterValue=function(e){var t;t=this._parseFilterCSS(this.style.webkitFilter);return t[e]||i[e]["default"]};r.prototype._setFilterValue=function(e,t,n){var r;r=this._parseFilterCSS(this.style.webkitFilter);r[e]=t;return this.style.webkitFilter=this._filterCSS(r)};r.prototype._filterCSS=function(e){var t,n,r;t=[];for(n in e){r=e[n];i.hasOwnProperty(n)&&t.push(""+i[n].css+"("+r+i[n].unit+")")}return t.join(" ")};r.prototype._parseFilterCSS=function(e){var t,n,r,s,o,u,a,f,l;s={};if(!e)return s;l=e.split(" ");for(a=0,f=l.length;a<f;a++){r=l[a];if(r){n=r.split("(")[0];u=parseFloat(r.split("(")[1]);for(t in i){o=i[t];o.css===n&&(s[t]=u)}}}return s};c.map(i,function(e,t){return r.define(t,{get:function(){return this._getFilterValue(t)},set:function(e){return this._setFilterValue(t,e)}})});r.define("superView",{get:function(){return this._superView||null},set:function(e){if(e===this._superView)return;f.domCompleteCancel(this.__insertElement);if(this._superView){this._superView._element.removeChild(this._element);this._superView._subViews=c.without(this._superView._subViews,this);this._superView.emit("change:subViews",{added:[],removed:[this]})}if(e){e._element.appendChild(this._element);e._subViews.push(this);e.emit("change:subViews",{added:[this],removed:[]})}else this._insertElement();this._superView=e;this.bringToFront();return this.emit("change:superView")}});r.define("subViews",{get:function(){return this._subViews.map(function(e){return e})}});r.define("siblingViews",{get:function(){var e=this;return this.superView===null?c.filter(r.ViewList,function(t){return t!==e&&t.superView}):c.filter(this.superView.subViews,function(t){return t!==e})}});r.prototype.addSubView=function(e){return e.superView=this};r.prototype.removeSubView=function(e){if(v.call(this.subViews,e)<0)return;return e.superView=null};r.define("index",{get:function(){return parseInt(this.style["z-index"]||0)},set:function(e){this.style["z-index"]=e;return this.emit("change:index")}});r.prototype.placeBefore=function(e){return this.index=e.index+1};r.prototype.placeBehind=function(e){return this.index=e.index-1};r.prototype.switchPlaces=function(e){var t,n;t=this.index;n=e.index;e.index=t;return this.index=n};r.prototype.bringToFront=function(){var e;e=c.pluck(this.siblingViews,"index");return this.index=f.max(e)+1||0};r.prototype.sendToBack=function(){var e;e=c.pluck(this.siblingViews,"index");return this.index=f.min(e)-1||0};r.prototype.animate=function(e,n){var r;e.view=this;r=new t(e);r.start(n);return r};r.prototype.animateStop=function(){return this._currentAnimations.map(function(e){return e.stop()})};r.define("html",{get:function(){return this._element.innerHTML},set:function(e){this._element.innerHTML=e;return this.emit("change:html")}});r.define("style",{get:function(){return this._element.style},set:function(e){f.extend(this._element.style,e);return this.emit("change:style")}});r.define("computedStyle",{get:function(){return document.defaultView.getComputedStyle(this._element)},set:function(e){throw Error("computedStyle is readonly")}});r.define("class",{get:function(){return this._element.className},set:function(e){this._element.className=e;return this.emit("change:class")}});r.define("classes",{get:function(){var e;e=this["class"].split(" ");e=c(e).filter(function(e){return e!==""&&e!==null});e=c(e).unique();return e},set:function(e){return this["class"]=e.join(" ")}});r.prototype.addClass=function(e){var t;t=this.classes;t.push(e);return this.classes=t};r.prototype.removeClass=function(e){return this.classes=c.filter(this.classes,function(t){return t!==e})};r.prototype._insertElement=function(){return f.domComplete(this.__insertElement)};r.prototype.__insertElement=function(){if(!Framer._rootElement){Framer._rootElement=document.createElement("div");Framer._rootElement.id="FramerRoot";document.body.appendChild(Framer._rootElement)}return Framer._rootElement.appendChild(this._element)};r.prototype.destroy=function(){if(this._element.parentNode)return this._element.parentNode.removeChild(this._element)};r.prototype.addListener=function(e,t){r.__super__.addListener.apply(this,arguments);return this._element.addEventListener(e,t)};r.prototype.removeListener=function(e,t){r.__super__.removeListener.apply(this,arguments);return this._element.removeEventListener(e,t)};r.prototype.on=r.prototype.addListener;r.prototype.off=r.prototype.removeListener;return r}.call(this,s);u.Properties=f.extend({},s.Properties,{frame:null,clip:!0,opacity:1,rotationX:0,rotationY:0,rotationZ:0,rotation:0,scale:1,scaleX:1,scaleY:1,scaleZ:1,style:null,html:null,"class":"",superView:null,visible:!0,index:0});for(a in i){l=i[a];u.Properties[a]=l["default"]}u.Views=[];n.View=u}).call(this)});e.define("/src/primitives/frame.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};i=e("../utils");t=e("../eventemitter").EventEmitter;r=function(e){function t(e){this.properties=e}o(t,e);t.define("properties",{get:function(){var e,n,r,i;n={};i=t.Properties;for(e in i){r=i[e];n[e]=this[e]||t.Properties[e]}return n},set:function(e){var n,r,i,s,o,u,a;i=t.Properties;for(n in i){r=i[n];(s=e[n])!==null&&s!==void 0&&(this[n]=e[n])}o=t.CalculatedProperties;a=[];for(n in o){r=o[n];(u=e[n])!==null&&u!==void 0?a.push(this[n]=e[n]):a.push(void 0)}return a}});t.define("minX",{get:function(){return this.x},set:function(e){return this.x=e}});t.define("midX",{get:function(){return this.x+this.width/2},set:function(e){return this.width===0?this.x=0:this.x=e-this.width/2}});t.define("maxX",{get:function(){return this.x+this.width},set:function(e){return this.width===0?this.x=0:this.x=e-this.width}});t.define("minY",{get:function(){return this.y},set:function(e){return this.y=e}});t.define("midY",{get:function(){return this.y+this.height/2},set:function(e){return this.height===0?this.y=0:this.y=e-this.height/2}});t.define("maxY",{get:function(){return this.y+this.height},set:function(e){return this.height===0?this.y=0:this.y=e-this.height}});t.prototype.merge=function(e){var n,r,i,s;r=this;i=Math.min(r.x,e.x);s=Math.min(r.y,e.y);n={x:i,y:s,width:Math.max(r.x+r.width,e.x+e.width)-i,height:Math.max(r.y+r.height,e.y+e.height)-s};return new t(n)};return t}(t);r.Properties={x:0,y:0,z:0,width:0,height:0};r.CalculatedProperties={minX:null,midX:null,maxX:null,minY:null,midY:null,maxY:null};n.Frame=r}).call(this)});e.define("/src/eventemitter.coffee",function(e,t,n,r,i,s,o){(function(){var e,t=[].slice;e=function(){};n.EventEmitter=function(){function n(){this.events={}}n.prototype.emit=function(){var n,r,i,s,o,u,a,f;r=arguments[0],n=2<=arguments.length?t.call(arguments,1):[];e(r);if((u=this.events)!=null?!u[r]:!void 0)return;a=this.events[r];f=[];for(s=0,o=a.length;s<o;s++){i=a[s];f.push(i.apply(null,n))}return f};n.prototype.addListener=function(t,n){var r;e(t);this.events==null&&(this.events={});(r=this.events)[t]==null&&(r[t]=[]);return this.events[t].push(n)};n.prototype.removeListener=function(e,t){var n;if(!this.events)return;if(!this.events[e])return;return this.events[e]=function(){var r,i,s,o;s=this.events[e];o=[];for(r=0,i=s.length;r<i;r++){n=s[r];n!==t&&o.push(n)}return o}.call(this)};n.prototype.once=function(t,n){var r,i=this;e(t);r=function(){i.removeListener(t,r);return n.apply(null,arguments)};return this.on(t,r)};n.prototype.removeAllListeners=function(t){var n,r,i,s,o;e(t);if(!this.events)return;if(!this.events[t])return;s=this.events[t];o=[];for(r=0,i=s.length;r<i;r++){n=s[r];o.push(this.removeListener(t,n))}return o};n.prototype.on=n.prototype.addListener;n.prototype.off=n.prototype.removeListener;return n}()}).call(this)});e.define("/src/primitives/matrix.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s;s=e("underscore");i=e("../utils");t=new WebKitCSSMatrix;r=function(){function e(e){e instanceof WebKitCSSMatrix&&this.from(e)}e.define("x",{get:function(){return this._x||0},set:function(e){return this._x=e}});e.define("y",{get:function(){return this._y||0},set:function(e){return this._y=e}});e.define("z",{get:function(){return this._z||0},set:function(e){return this._z=e}});e.define("scaleX",{get:function(){return this._scaleX||1},set:function(e){return this._scaleX=e}});e.define("scaleY",{get:function(){return this._scaleY||1},set:function(e){return this._scaleY=e}});e.define("scaleZ",{get:function(){return this._scaleZ||1},set:function(e){return this._scaleZ=e}});e.define("scale",{get:function(){return(this._scaleX+this._scaleY)/2},set:function(e){return this._scaleX=this._scaleY=e}});e.define("rotationX",{get:function(){return this._rotationX||0},set:function(e){return this._rotationX=e}});e.define("rotationY",{get:function(){return this._rotationY||0},set:function(e){return this._rotationY=e}});e.define("rotationZ",{get:function(){return this._rotationZ||0},set:function(e){return this._rotationZ=e}});e.define("rotation",{get:function(){return this.rotationZ},set:function(e){return this.rotationZ=e}});e.prototype.decompose=function(e){var t;t={};t.translation={x:e.m41,y:e.m42,z:e.m43};t.scale={x:Math.sqrt(e.m11*e.m11+e.m12*e.m12+e.m13*e.m13),y:Math.sqrt(e.m21*e.m21+e.m22*e.m22+e.m23*e.m23),z:Math.sqrt(e.m31*e.m31+e.m32*e.m32+e.m33*e.m33)};t.rotation={x:-Math.atan2(e.m32/t.scale.z,e.m33/t.scale.z),y:Math.asin(e.m31/t.scale.z),z:-Math.atan2(e.m21/t.scale.y,e.m11/t.scale.x)};return t};e.prototype.from=function(e){var t;t=this.decompose(e);this.x=t.translation.x;this.y=t.translation.y;this.scaleX=t.scale.x;this.scaleY=t.scale.y;this.scaleZ=t.scale.z;this.rotationX=t.rotation.x/Math.PI*180;this.rotationY=t.rotation.y/Math.PI*180;return this.rotationZ=t.rotation.z/Math.PI*180};e.prototype.set=function(e){return e._matrix=this};e.prototype.css=function(){var e;e=t;e=e.translate(this._x,this._y,this._z);e=e.rotate(this._rotationX,this._rotationY,this._rotationZ);e=e.scale(this._scaleX,this._scaleY,this._scaleZ);return e.toString()};return e}();n.Matrix=r}).call(this)});e.define("/src/animation.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y=function(e,t){return function(){return e.apply(t,arguments)}},b={}.hasOwnProperty,w=function(e,t){function r(){this.constructor=e}for(var n in t)b.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};g=e("underscore");l=e("./config").config;v=e("./utils");c=e("./css");o=e("./eventemitter").EventEmitter;a=e("./primitives/matrix").Matrix;u=e("./filters").FilterProperties;d=e("./curves/spring");f=e("./curves/bezier");i=0;s=[];p=function(e,t){e=e.replace(t,"");e=e.replace(/\s+/g,"");e=e.replace("(","");e=e.replace(")","");e=e.split(",");return e.map(function(e){return parseFloat(e)})};t={};for(h in u){m=u[h];t[h]=m.unit}r=function(e){function n(e){this._cleanup=y(this._cleanup,this);this._finalize=y(this._finalize,this);this.stop=y(this.stop,this);this.reverse=y(this.reverse,this);this.start=y(this.start,this);var t,n,r,s;s=this.AnimationProperties;for(n=0,r=s.length;n<r;n++){t=s[n];this[t]=e[t]}this.time==null&&(this.time=1e3);this.curve==null&&(this.curve="linear");this.count=0;this.precision==null&&(this.precision=l.animationPrecision);this.debug==null&&(this.debug=l.animationDebug);this.profile==null&&(this.profile=l.animationProfile);i+=1;this.animationId=i}w(n,e);n.prototype.AnimationProperties=["view","properties","curve","time","origin","tolerance","precision","modifiers","limits","debug","profile","callback"];n.prototype.AnimatableCSSProperties={opacity:"",width:"px",height:"px"};n.prototype.AnimatableFilterProperties=t;n.prototype.AnimatableMatrixProperties=["x","y","z","scaleX","scaleY","scaleZ","rotationX","rotationY","rotationZ"];n.define("view",{get:function(){return this._view},set:function(e){if(e===null||e===this._view)return;this._originalProperties=e.properties;return this._view=e}});n.prototype.start=function(e){var t,n,r,i,o,u,a,f,l,p,d=this;s.push(this);if(this.view===null)throw new Error("Animation does not have a view to animate");o=(new Date).getTime();this.count++;this.animationName="framer-animation-"+this.animationId+"-"+this.count;this.debug&&console.log("Animation["+this.animationId+"].start");this.debug&&console.log("Animation["+this.animationId+"].view = "+this.view.name);this.profile&&console.profile(this.animationName);this.view.animateStop();this.view._currentAnimations.push(this);this.curveValues=this._parseCurve(this.curve);this.totalTime=this.curveValues.length/this.precision*1e3;r=this.view.properties;i=this.properties;if(i.hasOwnProperty("scale")){i.scaleX=i.scale;i.scaleY=i.scale}i.hasOwnProperty("rotation")&&(i.rotationZ=i.rotation);this.propertiesA={};this.propertiesB={};f=this.AnimatableMatrixProperties;for(u=0,a=f.length;u<a;u++){h=f[u];this.propertiesA[h]=r[h];i.hasOwnProperty(h)?this.propertiesB[h]=i[h]:this.propertiesB[h]=r[h]}l=this.AnimatableCSSProperties;for(h in l){m=l[h];if(i.hasOwnProperty(h)){this.propertiesA[h]=r[h];this.propertiesB[h]=i[h]}}p=this.AnimatableFilterProperties;for(h in p){m=p[h];if(i.hasOwnProperty(h)){v.isChrome()&&console.log("Warning: Filter animations are currently not working well in Chrome");this.propertiesA[h]=r[h];this.propertiesB[h]=i[h]}}t=[];for(h in this.propertiesA){this.debug&&console.log(" ."+h+" "+this.propertiesA[h]+" -> "+this.propertiesB[h]);this.propertiesA[h]!==this.propertiesB[h]&&t.push(h)}if(t.length===0){console.log("Animation["+this.animationId+"] Warning: nothing to animate");return}this.keyFrameAnimationCSS=this._css();this.view.once("webkitAnimationEnd",function(e){e.stopPropagation();return d._finalize()});n="visible";this.origin&&(this.view.style["-webkit-transform-origin"]=this.origin);c.addStyle("			"+this.keyFrameAnimationCSS+"					."+this.animationName+" {				-webkit-animation-duration: "+this.totalTime/1e3+"s;				-webkit-animation-name: "+this.animationName+";				-webkit-animation-timing-function: linear;				-webkit-animation-fill-mode: both;				-webkit-backface-visibility: "+n+";			}");this.view.addClass(this.animationName);this.view.once("webkitAnimationStart",function(e){var t;d.emit("start",e);if(d.debug){t=(new Date).getTime()-o;console.log("Animation["+d.animationId+"].setupTime = "+t+"ms");return console.log("Animation["+d.animationId+"].totalTime = "+v.round(d.totalTime,0)+"ms")}});if(this.profile)return console.profileEnd(this.animationName)};n.prototype.reverse=function(){var e,t,r,i,s,o;e={};s=this.AnimationProperties;for(r=0,i=s.length;r<i;r++){t=s[r];e[t]=this[t]}e.properties={};o=this._originalProperties;for(h in o){m=o[h];this.properties.hasOwnProperty(h)&&(e.properties[h]=this._originalProperties[h])}return new n(e)};n.prototype.stop=function(){this.debug&&console.log("Animation["+this.animationId+"].stop "+this.animationName);return this._cleanup(!1)};n.prototype._finalize=function(){this.debug&&console.log("Animation["+this.animationId+"].end "+this.animationName);this._cleanup(!0);return typeof callback=="function"?callback():void 0};n.prototype._cleanup=function(e){var t,n,r,i,s,o,f;this.view._currentAnimations=g.without(this.view._currentAnimations,this);if(e){r=v.extend(new a,this.propertiesB);i={};s=this.AnimatableCSSProperties;for(h in s){m=s[h];i[h]=this.propertiesB[h]+m}n={};o=this.propertiesB;for(h in o){m=o[h];u.hasOwnProperty(h)&&(n[u[h].css]=m)}i.webkitFilter=this.view._filterCSS(n)}else{r=new a(this.view._computedMatrix());i={};t=this.view.computedStyle;f=this.AnimatableCSSProperties;for(h in f){m=f[h];i[h]=t[h]}i.webkitFilter=t.webkitFilter}this.view.removeClass(this.animationName);this.view._matrix=r;this.view.style=i;typeof this.callback=="function"&&this.callback(this);return this.emit("end")};n.prototype._keyFrames=function(){var e,t,n,r,i,s,o,u,a,f,c;u=0;o=100/(this.curveValues.length-1);n=this._deltas();r={};c=this.curveValues;for(a=0,f=c.length;a<f;a++){t=c[a];i=u*o;i=v.round(i,l.roundingDecimals);e={};for(s in this.propertiesA)e[s]=t*n[s]+this.propertiesA[s];r[i]=e;u++}return r};n.prototype._css=function(){var e,t,n,r,i,s,o,f,c,h,p,d;t=this._keyFrames();e=[];e.push("@-webkit-keyframes "+this.animationName+" {\n");n=new a;for(r in t){o=t[r];e.push("	"+r+"%	{");e.push("-webkit-filter: ");h=this.AnimatableFilterProperties;for(i in h){s=h[i];if(!o.hasOwnProperty(i))continue;e.push(""+u[i].css+"("+v.round(o[i],l.roundingDecimals)+s+") ")}e.push(";");e.push("-webkit-transform: ");p=this.AnimatableMatrixProperties;for(f=0,c=p.length;f<c;f++){i=p[f];o.hasOwnProperty(i)?n[i]=o[i]:n[i]=this.view[i]}e.push(n.css()+"; ");d=this.AnimatableCSSProperties;for(i in d){s=d[i];if(!o.hasOwnProperty(i))continue;e.push(""+i+":"+v.round(o[i],l.roundingDecimals)+s+"; ")}e.push("}\n")}e.push("}\n");return e.join("")};n.prototype._deltas=function(){var e;e={};for(h in this.propertiesA)e[h]=(this.propertiesB[h]-this.propertiesA[h])/100;return e};n.prototype._parseCurve=function(e){var t,n,r;e==null&&(e="");e=e.toLowerCase();t=l.timeSpeedFactor;n=this.precision*t;r=this.time*t;if(e==="linear")return f.defaults.Linear(this.precision,r);if(e==="ease")return f.defaults.Ease(this.precision,r);if(e==="ease-in")return f.defaults.EaseIn(this.precision,r);if(e==="ease-out")return f.defaults.EaseOut(this.precision,r);if(e==="ease-in-out")return f.defaults.EaseInOut(this.precision,r);if(e.slice(0,+("bezier-curve".length-1)+1||9e9)==="bezier-curve"){m=p(e,"bezier-curve");return f.BezierCurve(m[0],m[1],m[2],m[3],n,r)}if(e.slice(0,+("spring".length-1)+1||9e9)==="spring"){m=p(e,"spring");return d.SpringCurve(m[0],m[1],m[2],n)}console.log("Animation.parseCurve: could not parse curve '"+e+"'");return f.defaults.Linear(this.precision,this.time)};return n}(o);n.Animation=r}).call(this)});e.define("/src/filters.coffee",function(e,t,n,r,i,s,o){(function(){n.FilterProperties={blur:{unit:"px","default":0,css:"blur"},brightness:{unit:"%","default":100,css:"brightness"},saturate:{unit:"%","default":100,css:"saturate"},hueRotate:{unit:"deg","default":0,css:"hue-rotate"},contrast:{unit:"%","default":100,css:"contrast"},invert:{unit:"%","default":0,css:"invert"},grayscale:{unit:"%","default":0,css:"grayscale"},sepia:{unit:"%","default":0,css:"sepia"}}}).call(this)});e.define("/src/curves/spring.coffee",function(e,t,n,r,i,s,o){(function(){var e,t,r,i,s,o,u,a=function(e,t){return function(){return e.apply(t,arguments)}};r={tension:80,friction:8,velocity:0,speed:1/60,tolerance:.1};i=function(e){return-e.tension*e.x-e.friction*e.v};s=function(e){var t;t={};t.dx=e.v;t.dv=i(e);return t};o=function(e,t,n){var r,s;s={};s.x=e.x+n.dx*t;s.v=e.v+n.dv*t;s.tension=e.tension;s.friction=e.friction;r={};r.dx=s.v;r.dv=i(s);return r};u=function(e,t){var n,r,i,u,a,f;n=s(e);r=o(e,t*.5,n);i=o(e,t*.5,r);u=o(e,t,i);f=1/6*(n.dx+2*(r.dx+i.dx)+u.dx);a=1/6*(n.dv+2*(r.dv+i.dv)+u.dv);e.x=e.x+f*t;e.v=e.v+a*t;return e};e=function(){function e(e){this.next=a(this.next,this);this.reset=a(this.reset,this);e=e||{};this.velocity=e.velocity||r.velocity;this.tension=e.tension||r.tension;this.friction=e.friction||r.friction;this.speed=e.speed||r.speed;this.tolerance=e.tolerance||r.tolerance;this.reset()}e.prototype.reset=function(){this.startValue=0;this.currentValue=this.startValue;this.endValue=100;return this.moving=!0};e.prototype.next=function(){var e,t,n,r,i,s,o,a,f;f=this.currentValue;o={};s={};o.x=f-this.endValue;o.v=this.velocity;o.tension=this.tension;o.friction=this.friction;s=u(o,this.speed);this.currentValue=this.endValue+s.x;e=s.v;n=s.x;t=s.v;r=Math.abs(n)<this.tolerance;i=Math.abs(t)<this.tolerance;a=r&&i;this.moving=!a;if(a){e=0;this.currentValue=this.endValue}this.velocity=e;return this.currentValue};e.prototype.all=function(){var e,t;this.reset();e=0;t=[];while(this.moving){if(e>3e3)throw Error("Spring: too many values");e++;t.push(this.next())}return t};e.prototype.time=function(){return this.all().length*this.speed};return e}();t=function(t,n,r,i){var s;s=new e({tension:t,friction:n,velocity:r,speed:1/i});return s.all()};n.SpringCurve=t}).call(this)});e.define("/src/curves/bezier.coffee",function(e,t,n,r,i,s,o){(function(){var e,t,r;t=function(){function e(e,t,n,r){this.cx=3*e;this.bx=3*(n-e)-this.cx;this.ax=1-this.cx-this.bx;this.cy=3*t;this.by=3*(r-t)-this.cy;this.ay=1-this.cy-this.by}e.prototype.epsilon=1e-6;e.prototype.sampleCurveX=function(e){return((this.ax*e+this.bx)*e+this.cx)*e};e.prototype.sampleCurveY=function(e){return((this.ay*e+this.by)*e+this.cy)*e};e.prototype.sampleCurveDerivativeX=function(e){return(3*this.ax*e+2*this.bx)*e+this.cx};e.prototype.solveCurveX=function(e){var t,n,r,i,s,o;s=e;n=0;while(n<8){o=this.sampleCurveX(s)-e;if(Math.abs(o)<this.epsilon)return s;t=this.sampleCurveDerivativeX(s);if(Math.abs(t)<this.epsilon)break;s-=o/t;n++}r=0;i=1;s=e;if(s<r)return r;if(s>i)return i;while(r<i){o=this.sampleCurveX(s);if(Math.abs(o-e)<this.epsilon)return s;e>o?r=s:i=s;s=(i-r)*.5+r}return s};e.prototype.solve=function(e){return this.sampleCurveY(this.solveCurveX(e))};return e}();e=function(e,n,r,i,s,o){var u,a,f,l,c;u=new t(e,n,r,i);l=[];f=s/1e3*o-1;if(f>3e3)throw Error("Bezier: too many values");for(a=c=0;0<=f?c<=f:c>=f;a=0<=f?++c:--c)l.push(u.solve(a/f)*100);return l};r={};r.Linear=function(t,n){return e(0,0,1,1,t,n)};r.Ease=function(t,n){return e(.25,.1,.25,1,t,n)};r.EaseIn=function(t,n){return e(.42,0,1,1,t,n)};r.EaseOut=function(t,n){return e(0,0,.58,1,t,n)};r.EaseInOut=function(t,n){return e(.42,0,.58,1,t,n)};n.defaults=r;n.BezierCurve=e}).call(this)});e.define("/src/views/scrollview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};t=e("../primitives/frame").Frame;r=e("./view").View;n.ScrollView=function(e){function n(){n.__super__.constructor.apply(this,arguments);this.style.overflow="scroll";this.style["-webkit-overflow-scrolling"]="touch";this.style["overflow-x"]="scroll";this.style["overflow-y"]="scroll"}s(n,e);n.define("scrollVertical",{get:function(){return this.style["overflow-y"]!=="hidden"},set:function(e){return this.style["overflow-y"]=e?"scroll":"hidden"}});n.define("scrollHorizontal",{get:function(){return this.style["overflow-x"]!=="hidden"},set:function(e){return this.style["overflow-x"]=e?"scroll":"hidden"}});n.prototype.scrollToTop=function(){return this._element.scrollTop=0};n.prototype.scrollToBottom=function(){var e=this;return setTimeout(function(){return e.scrollPoint=e._element.scrollHeight-e.frame.height},0)};n.define("scrollPoint",{get:function(){return this._element.scrollTop},set:function(e){return this._element.scrollTop=e}});n.define("scrollFrame",{get:function(){return new t({x:this._element.scrollLeft,y:this._element.scrollTop,width:this.width,height:this.height})},set:function(e){this._element.scrollLeft=e.x;return this._element.scrollTop=e.y}});return n}(r)}).call(this)});e.define("/src/views/imageview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};i=e("../utils");t=e("./view").View;r=e("../config").config;n.ImageView=function(e){function t(e){t.__super__.constructor.apply(this,arguments);e==null&&(e={});this.style["background-repeat"]="no-repeat";this.style["background-size"]="cover";this.image=e.image}o(t,e);t.define("image",{get:function(){return this._image},set:function(e){var t,n,i,s=this;if(this._image===e)return this.emit("load",t);this._image=r.baseUrl+e;utils.isLocal()&&(this._image+="?nocache="+Date.now());if((n=this.events)!=null?n.hasOwnProperty("load"):void 0){t=new Image;t.name=this.image;t.src=this.image;t.onload=function(){s.style["background-image"]="url('"+s.image+"')";return s.emit("load",t)};return t.onerror=function(){return s.emit("error",t)}}return this.style["background-image"]="url('"+this.image+"')"}});return t}(t)}).call(this)});e.define("/src/views/textview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=e("./view").View;t=function(e){function t(e){t.__super__.constructor.apply(this,arguments);this.text=(e!=null?e.text:void 0)||""}s(t,e);t.define("text",{get:function(){return this.html},set:function(e){return this.html=e}});t.prototype.calculateSize=function(e){var n,r,i,s;s=new t;s.text=this.text;i={position:"absolute",height:"auto",width:"auto",backgroundColor:"rgba(0,255,0,.2)",visbility:"hidden"};s.style=_.extend({},this.style,i);n={x:-1e4,y:-1e4};e==null&&(e={});e.width&&(n.width=e.width);e.height&&(n.width=e.height);s.frame=n;s.__insertElement();r={width:s._element.clientWidth,height:s._element.clientHeight};return r};return t}(r);n.TextView=t}).call(this)});e.define("/src/primitives/events.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i;i=e("underscore");r=e("../utils");t={};if(r.isTouch()){t.TouchStart="touchstart";t.TouchEnd="touchend";t.TouchMove="touchmove"}else{t.TouchStart="mousedown";t.TouchEnd="mouseup";t.TouchMove="mousemove"}t.MouseOver="mouseover";t.MouseOut="mouseout";t.touchEvent=function(e){var t,n,r;t=(n=e.touches)!=null?n[0]:void 0;t==null&&(t=(r=e.changedTouches)!=null?r[0]:void 0);t==null&&(t=e);return t};n.Events=t}).call(this)});e.define("/src/ui/init.coffee",function(e,t,n,r,i,s,o){(function(){n.GridView=e("./gridview").GridView;n.Draggable=e("./draggable").Draggable;n.ScrollView=e("./scrollview").ScrollView;n.PagingView=e("./pagingview").PagingView}).call(this)});e.define("/src/ui/gridview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r={}.hasOwnProperty,i=function(e,t){function i(){this.constructor=e}for(var n in t)r.call(t,n)&&(e[n]=t[n]);i.prototype=t.prototype;e.prototype=new i;e.__super__=t.prototype;return e};t=e("../views/view").View;n.GridView=function(e){function n(e){n.__super__.constructor.apply(this,arguments);this.rows=e.rows||2;this.cols=e.cols||2;this.views={};this.update()}i(n,e);n.prototype.update=function(){var e,t,n,r,i,s,o;o=[];for(n=i=1,s=this.rows;1<=s?i<=s:i>=s;n=1<=s?++i:--i)o.push(function(){var i,s,o;o=[];for(e=i=1,s=this.cols;1<=s?i<=s:i>=s;e=1<=s?++i:--i){r=this.createView();r.superView=this;t={width:this.width/this.cols,height:this.height/this.cols};t.x=(e-1)*t.width;t.y=(n-1)*t.height;r.frame=t;o.push(this.views[""+n+"."+e]=r)}return o}.call(this));return o};n.prototype.createView=function(){var e;e=new t;e.style.backgroundColor=utils.randomColor(.1);e.clip=!1;return e};return n}(t)}).call(this)});e.define("/src/ui/draggable.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s=function(e,t){return function(){return e.apply(t,arguments)}},o={}.hasOwnProperty,u=function(e,t){function r(){this.constructor=e}for(var n in t)o.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};i=e("underscore");t=e("../eventemitter").EventEmitter;r=e("../primitives/events").Events;r.DragStart="dragstart";r.DragMove="dragmove";r.DragEnd="dragend";n.Draggable=function(e){function t(e){this.view=e;this._touchEnd=s(this._touchEnd,this);this._touchStart=s(this._touchStart,this);this._updatePosition=s(this._updatePosition,this);this.speed={x:1,y:1};this._deltas=[];this._isDragging=!1;this.attach()}u(t,e);t.VelocityTimeOut=100;t.prototype.attach=function(){return this.view.on(r.TouchStart,this._touchStart)};t.prototype.remove=function(){return this.view.off(r.TouchStart,this._touchStart)};t.prototype.emit=function(e,n){this.view.emit(e,n);return t.__super__.emit.call(this,e,n)};t.prototype.calculateVelocity=function(){var e,t,n,r,i;if(this._deltas.length<2)return{x:0,y:0};e=this._deltas.slice(-1)[0];t=this._deltas.slice(-2,-1)[0];n=e.t-t.t;r=(new Date).getTime()-t.t;if(r>this.VelocityTimeOut)return{x:0,y:0};i={x:(e.x-t.x)/n,y:(e.y-t.y)/n};i.x===Infinity&&(i.x=0);i.y===Infinity&&(i.y=0);return i};t.prototype._updatePosition=function(e){var t,n,i;this.emit(r.DragMove,e);i=r.touchEvent(e);n={x:i.webkitMovementX,y:i.webkitMovementY};t={x:n.x*this.speed.x,y:n.y*this.speed.y,t:e.timeStamp};this.view.x+=t.x;this.view.y+=t.y;return this._deltas.push(t)};t.prototype._touchStart=function(e){var t;this.view.animateStop();this._isDragging=!0;t=r.touchEvent(e);this._start={x:t.clientX,y:t.clientY};this._offset={x:t.clientX-this.view.x,y:t.clientY-this.view.y};document.addEventListener(r.TouchMove,this._updatePosition);document.addEventListener(r.TouchEnd,this._touchEnd);return this.emit(r.DragStart,e)};t.prototype._touchEnd=function(e){this._isDragging=!1;document.removeEventListener(r.TouchMove,this._updatePosition);document.removeEventListener(r.TouchEnd,this._touchEnd);this.emit(r.DragEnd,e);return this._deltas=[]};return t}(t)}).call(this)});e.define("/src/ui/scrollview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i,s,o=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty,a=function(e,t){function r(){this.constructor=e}for(var n in t)u.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};s=e("../utils");i=e("../views/view").View;t=e("../primitives/events").Events;t.ScrollStart="scrollstart";t.Scroll="scroll";t.ScrollEnd="scrollend";r=function(e){function n(){this._endBehaviourSnap=o(this._endBehaviourSnap,this);this._endBehaviourMomentum=o(this._endBehaviourMomentum,this);this._scrollEnd=o(this._scrollEnd,this);this._scroll=o(this._scroll,this);this._scrollStart=o(this._scrollStart,this);this._updateSize=o(this._updateSize,this);this._changeSubViews=o(this._changeSubViews,this);n.__super__.constructor.apply(this,arguments);this.clip=!0;this.contentView=new i({superView:this});this.contentView.on("change:subViews",this._changeSubViews);this._dragger=new ui.Draggable(this.contentView);this._dragger.on(t.DragStart,this._scrollStart);this._dragger.on(t.DragMove,this._scroll);this._dragger.on(t.DragEnd,this._scrollEnd);this.endBehaviour=this._endBehaviourMomentum}a(n,e);n.prototype.centerView=function(e,t){t==null&&(t=!1);return this.scrollFrame=this._scrollFrameForView(e)};n.prototype.snapToView=function(e,t){t==null&&(t="spring(1000,20,1000)");return this.contentView.animate({properties:s.pointInvert(this._scrollFrameForView(e)),curve:t})};n.prototype.closestView=function(e){var t=this;e==null&&(e=this.scrollFrame);return _.first(_.sortBy(this.contentView.subViews,function(t){return s.pointTotal(s.pointDistance(t.frame,e))}))};n.prototype.calculateVelocity=function(){return this._dragger.calculateVelocity()};n.define("scrollX",{get:function(){return this._dragger.speed.x===1},set:function(e){return this._dragger.speed.x=e===!0?1:0}});n.define("scrollY",{get:function(){return this._dragger.speed.y===1},set:function(e){return this._dragger.speed.y=e===!0?1:0}});n.define("scrollFrame",{get:function(){return new Framer.Frame(s.pointInvert(this.contentView))},set:function(e){return this.contentView.frame=s.pointInvert(s.framePoint(this.contentView
.frame))}});n.define("paging",{get:function(){return this._paging},set:function(e){this._paging=e;return e===!0?this.endBehaviour=this._endBehaviourSnap:this.endBehaviour=this._endBehaviourMomentum}});n.prototype._scrollFrameForView=function(e){var t;return t={x:e.x+(e.width-this.width)/2,y:e.y+(e.height-this.height)/2}};n.prototype._changeSubViews=function(e){var t,n,r=this;e!=null&&(t=e.added)!=null&&t.map(function(e){return e.on("change:frame",r._updateSize)});e!=null&&(n=e.removed)!=null&&n.map(function(e){return e.off("change:frame",r._updateSize)});return this._updateSize()};n.prototype._updateSize=function(){return this.contentView.frame=s.frameSize(this.contentView.contentFrame())};n.prototype._scrollStart=function(e){e.preventDefault();return this.emit(t.ScrollStart,e)};n.prototype._scroll=function(e){e.preventDefault();return this.emit(t.Scroll,e)};n.prototype._scrollEnd=function(e){e.preventDefault();typeof this.endBehaviour=="function"&&this.endBehaviour(e);return this.emit(t.ScrollEnd,e)};n.prototype._endBehaviourMomentum=function(e){var n,r,i,o,u,a;u=t.touchEvent(e);r=1e3;i=0;a=this.calculateVelocity();o=s.pointAbs(s.pointTotal(a));return n=this.contentView.animate({properties:{x:parseInt(this.contentView.x+a.x*r),y:parseInt(this.contentView.y+a.y*r)},curve:"spring(100,80,"+o*i+")"})};n.prototype._endBehaviourSnap=function(e){var n,r,i,o,u,a,f,l;f=t.touchEvent(e);r=1;i=1;u=32;l=this.calculateVelocity();a=s.pointAbs(s.pointTotal(l));o="spring(300,"+u*r+","+a*i+")";return n=this.snapToView(this.closestView(),o)};return n}(i);n.ScrollView=r}).call(this)});e.define("/src/ui/pagingview.coffee",function(e,t,n,r,i,s,o){(function(){var t,r,i={}.hasOwnProperty,s=function(e,t){function r(){this.constructor=e}for(var n in t)i.call(t,n)&&(e[n]=t[n]);r.prototype=t.prototype;e.prototype=new r;e.__super__=t.prototype;return e};r=e("./scrollview").ScrollView;t=function(e){function t(){t.__super__.constructor.apply(this,arguments);this.endBehaviour=this._endBehaviourSnap}s(t,e);return t}(r);n.PagingView=t}).call(this)});e.define("/src/init.coffee",function(e,t,n,r,i,s,o){(function(){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m;p=e("./css");h=e("./config").config;m=e("./utils");d=e("./debug");v=e("./tools/init").tools;l=e("./views/view").View;c=e("./views/view").ViewList;a=e("./views/scrollview").ScrollView;o=e("./views/imageview").ImageView;f=e("./views/textview").TextView;t=e("./animation").Animation;i=e("./primitives/frame").Frame;u=e("./primitives/matrix").Matrix;n=e("./eventemitter").EventEmitter;r=e("./primitives/events").Events;s={};s.View=l;s.ScrollView=a;s.ImageView=o;s.TextView=f;s.Animation=t;s.Frame=i;s.Matrix=u;s.EventEmitter=n;s.Events=r;s.utils=m;s.tools=v;s.ui=e("./ui/init");s.ViewList=c;s.debug=d.debug;s.css=p;s.config=h;if(window){window.Framer=s;window._=e("underscore");_.extend(window,s)}m.isWebKit()||alert("Sorry, only WebKit browsers are currently supported. See https://github.com/koenbok/Framer/issues/2 for more info.")}).call(this)});e("/src/init.coffee")})();